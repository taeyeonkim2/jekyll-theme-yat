---
layout: post
title: 컴퓨터의 구조와 성능 향상2
categories: OS
tags: taeyeonkim
---

## 복습? 어제 대충 본 걸 반성

레지스터의 종류 깔끔하게 정리해보자

데이터 레지스터 : 메모리에서 가져온 데이터를 임시로 저장하는 곳

주소 레지스터 : 데이터나 명령어가 저장된 메모리의 주소가 저장되는 곳

프로그램 카운터 : 다음 실행할 명령어의 "주소"를 저장

명령어 레지스터 : 현재 실행중인 명령어를 저장

메모리 주소 레지스터 : 데이터를 가져오거나 보낼 메모리의 주소를 저장

메모리 버퍼 레지스터 : 메모리에서 가져온 데이터나 메모리로 보낼 데이터를 임시로 저장하는 곳

## 버스 

버스는 CPU와 메모리, 주변장치 간에 데이터를 주고받을때 사용한다.

제어 버스 : 다음에 어떤 작업을 할지 지시하는 제어신호가 오간다.

CPU - 메모리 : 데이터를 가져올 때 읽기신호, 보낼 때 쓰기신호

CPU - 주변장치 : 하드에 저장해! 사운드카드야 소리내!

CPU의 제어장치와 연결되어있는데, 제어신호는 양방향으로 오간다

주소 버스  : 메모리의 데이터를 읽거나 쓸 때, 어느 위치에서 작업할 것인지를 알려주는 위치 정보가 오간다.

메모리 주소 레지스터와 연결되어 있으며 단방향이다

데이터 버스 : 제어 버스가 다음 작업의 신호를 보내고, 주소 버스가 메모리의 위치를 전달하면

데이터가 데이터 버스를 통해 목적지까지 이동한다.

버스 대역폭 : 한번에 전달할 수 있는 데이터의 최대 크기

## 메모리의 종류와 부팅

모든 프로그램은 메모리에 올라와야 실행될 수 있다

메모리에는 실행에 필요한 프로그램과 데이터가 존재하며 CPU와 협업하여 작업이 이루어진다.

메모리를 이루는 소자는 1bit인데 너무 작아서 주소는 한 바이트로 단위로 지정된다.

종류! 램 과 롬

1. 휘발성 메모리 (DRAM,SRAM)

DRAM : 시간이 지나면 데이터가 사라진다

SRAM : 전력이 있으면 데이터가 보관된다

2. 비휘발성 메모리 (플래시메모리, FRAM, PRAM)

플래시 메모리 : 최대 사용횟수가 제한..

롬은 전력이 끊겨도 데이터를 보관, 근데 데이터를 한 번 저장하면 못바꿔..

그래서 바이오스를 롬에 저장하지

부팅 부팅

응용 프로그램은 운영체제가 메모리에 올려주는 데 운영체제는 누가 메모리에 올려줄까

컴퓨터를 켰을 때 운영체제를 메모리에 올리는 것을 부팅이라고 해

컴퓨터가 켜지면 롬에 저장된 바이오스가 실행되고,

바이오스는 주요 하드웨어가 잘 작동하는지 확인해

이상이 없다? 마스터 부트 레코드에 저장된 작은 프로그램을 메모리로 가져와서 실행하지

마스터 부트 레코드? 하드 디스크의 첫 번째 섹터야. 

이 곳에 운영체제를 실행하기 위한 코드인 '부트스트랩'이 저장되어있지

## 버퍼

속도 차이가 있는 두 장치사이에서 그 차이를 완화시켜준다

어떻게? 일정량의 데이터를 모아서 옮긴다

## 캐시

메모리와 CPU간의 속도 차이를 완화하기 위해 메모리의 데이터를 미리 가져와 저장해두는 임시장소

## 인터럽트

CPU의 작업과 저장장치의 데이터 이동을 독립적으로 운영함으로써 시스템의 효율을 높인다

동작 과정

1. CPU는 입출력 관리자에게 입출력 명령을 보낸다.

2. 입출력 관리자는 명령받은 데이터를 가져오거나 보낸다.

3. 데이터 전송이 완료되면 입출력 관리자는 CPU에 완료신호를 보낸다

## 병렬처리

동시에 여러 개의 명령을 처리하여 작업의 능률을 올리는 방식

병렬처리시 고려사항

- 상호의존성이 없어야 병렬처리가 가능하다 (앞의 결과가 뒤의 명령에 영향을 미치면 안됨)

- 각 단계의 시간을 거의 일정하게 맞춰야 원만하게 이루어진다

병렬 처리 기법

CPU의 제어장치는 명령어를 가져와 해석한 후 실행하고 결과를 저장하는 데 이 과정 전체를 스레드라고 한다.

1. 파이프라인 기법 : 명령을 겹쳐서 실행 (하나의 코어에 여러 개의 스레드를 사용)

- 데이터 위험 : 데이터의 의존성

- 제어 위험 : if문 같은 명령에서 발생. 프로그램 카운터 값을 갑자기 변화시켜서 야기

- 구조 위험 : 서로 다른 명령어가 같은 자원에 접근하려할 때 충돌

2. 슈퍼스칼라 : 코어를 여러 개 구성하여 복수의 명령어가 동시에 실행되도록 하는 방식

