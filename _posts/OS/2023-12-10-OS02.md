---
layout: post
title: 컴퓨터의 구조와 성능 향상
categories: OS
tags: taeyeonkim
---

## 컴퓨터의 기본 구성

1. 하드웨어의 구성

중앙처리장치, 메인메모리, 입력장치, 출력장치, 저장장치로 구성된다.

중앙처리장치 -> CPU, 메인메모리 -> 메모리, 보조저장장치(하드,USB)-> 저장장치

1.1. CPU와 메모리 

CPU는 명령어를 해석하여 실행하는 장치이고,

메모리는 작업에 필요한 프로그램과 데이터를 저장하는 장소이다.

1.2. 입출력장치

-키보드, 마우스, 스캐너, 프린터, 모니터, 스피커 등

1.3. 저장장치

1.4. 메인보드 

요리사 모형에 이를 빗대어 표현할 수 있다.

요리사(CPU), 도마(메모리), 냉동창고(저장장치)

2.폰노이만 구조

CPU, 메모리, 입출력장치, 저장장치가 버스로 연결되어있는 구조

하드웨어는 그대로 둔 채 프로그램만 교체하여 메모리에 올리는 방식


## CPU와 메모리

1.CPU의 구성과 동작

1.1. CPU의 기본 구성

- CPU는 명령어를 해석하고 실행하는 장치이다.

- 산술논리 연산장치 : 논리 연산을 수행한다.

- 제어장치 : 작접을 지시하는 부분

- 레지스터 : CPU내에 데이터를 임시로 보관하는 곳

1.2.CPU의 명령어 처리 과정

```
int D2=2,D3=3, sum;
sum=D2+D3;

LOAD mem(100), register 2;
LOAD mem(120), register 3;
ADD resgister 5, register 2, register 3;
MOVE register 5, mem(160);
```

1. 메모리의 100번지에 있는 값을 register2로 가져온다.
2. 메모리의 120번지에 있는 값을 register3로 가져온다.
3. 레지스터2와 레지스터3의 값을 더한 결과를 레지스터 5에 넣는다.
4. 레지스터5의 값을 메모리의 160번지로 옮긴다.

1.3. 레지스터의 종류

CPU는 필요한 데이터를 '메모리'에서 가져와 '레지스터'에 저장하고, 

'산술논리 연산장치'를 이용하여 연산 후, 레지스터에 저장했다가 메모리로 옮긴다.

이 때 사용되는 레지스터는 데이터 레지스터와 주소 레지스터다.

이 둘은 사용자 프로그램에 의해 변경되기 때문에 user-visible register라고 불린다.

1.3.1. 데이터 레지스터 : 메모리에서 가져온 데이터를 임시로 보관할 때 사용한다.(대부분의 레지스터)

1.3.2 주소 레지스터 : 데이터나 명령어가 저장된 메모리의 주소는 주소레지스터에 저장된다.

이 외의 특수 레지스터도 있다.

1.3.2. 프로그램 카운터 (명령어 포인터)

-CPU는 다음에 어떤 명령어를 처리해야 할지 알아야 한다.

-프로그램 카운터는 "다음에 실행할 명령어의 주소"를 기억하고 있다가 제어장치에 알려준다.

1.3.3. 명령어 레지스터

- 현재 실행중인 명령어를 저장한다.

1.3.4. 메모리 주소 레지스터

- 메모리에서 데이터를 가져오거나 메모리로 데이터를 보낼 때 주소를 지정하기위해 사용한다.

1.3.5. 메모리 버퍼 레지스터

- 메모리에서 가져온 데이터나 메모리로 옮겨 갈 데이터를 임시로 저장한다.

- 항상 메모리 주소 레지스터와 함께 동작한다.

* LOAD mem(100),register2; 의 실행과정

1. 프로그램 카운터에는 현재 실행 중인 코드의 행 번호 1이 저장되고 이 번호는 제어장치에 전송

   명령어 레지스터에는 LOAD가 탑재된다.

2. 제어장치는 명령어 레지스터의 명령을 해석하여 메모리에 있는 데이터를 가져오라는 제어신호를 보낸다.

3. 메모리 주소 레지스터에는 100이 저장되고,

   메모리 관리자는 메모리의 100번지에 저장된 값을 메모리 버퍼 레지스터로 가져온다.

4. 제어장치는 메모리 버퍼 레지스터에 저장된 값을 레지스터2로 옮긴다.

1.4. 버스의 종류

버스는 CPU와 메모리, 주변장치 간에 데이터를 주고받을 때 사용한다.

1.4.1. 제어 버스 (양방향)

- 다음에 어떤 작업을 할지 지시하는 제어 신호가 오고 간다.

- CPU의 제어장치와 연결되어 있다.

1.4.2. 주소 버스 (단방향)

- 주소버스에서는 메모리의 데이터를 읽거나 쓸 때 어느 위치에서 작업할 것인지 알려주는 위치 정보가 오고 간다.

- 메모리 주소 레지스터와 연결되어 있다.

1.4.3. 데이터 버스 (양방향)

- 데이터는 데이터 버스에 실려 목적기 까지 이동한다.

- 메모리 버퍼 레지스터와 연결되어 있다.

2. 메모리의 종류와 부팅

메모리의 종류 

-휘발성 메모리 (DRAM / SRAM)

-비휘발성 메모리

## 컴퓨터 성능 향상 기술

장치간 속도 차이를 개선하고 작업 속도를 올리기 위해 개발된 기술 중 운영체제와 관련된 기술을 살펴 보자

1. 버퍼

개념 : 속도의 차이가 있는 두 장치 사이에서 그 차이를 완화시키는 역할을 한다.

2. 캐시

개념 : 메모리와 CPU 간의 속도 차이를 완화하기 위해 메모리의 데이터를 미리 가져와 저장해두는 임시 장소이다.

캐시는 CPU안에 있어서 CPU 내부 버스의 속도로 작동한다.

CPU는 메모리에 접근해야할 때, 먼저 캐시에 방문하는데 이 때 데이터가 있다면 캐시히트, 없다면 캐시미스

그런데, 캐시에 있는 데이터가 변경되는 경우에 메모리의 데이터도 변경해야 한다.

즉시 쓰기 : 메모리와 빈번한 데이터 전송으로 인해 성능이 느려지지만, 데이터를 잃어버리지는 않는다.

지연 쓰기 : 주기적으로 반영하는 방식. 캐시와 메모리 데이터 사이의 불일치가 발생할 수 있다.



