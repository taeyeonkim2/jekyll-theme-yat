---
layout: post
title: 아오! nginx 외장톰캣..
categories: 이것까지해야해?
tags: [taeyeon]
---

어제 하루종일 이것만 했네..

우선 앞단(react & nginx)은 문제가 없다..

웹앱서버에서 데이터를 못보내줌..로컬은 된다..

그것도 웃긴게 회사컴퓨터는 되는데

pcs컴퓨터는 안된다..java랑 catalina 환경변수가 문제같긴한데..후딱 해치우고싶다.ㅠ

## 도메인 설정

우선 가비아에서 사놓은 도메인과 연결해보자

서비스 관리 -> 도메인 우측의 관리 -> DNS정보의 도메인 연결 -> DNS정보의 설정

2개의 레코드를 설정해줄거야

1. 타입 : A 호스트 : @ 값/위치 : IP

2. 타입 : A 호스트 : www 값/위치 : IP

1번과 2번의 차이는 taeyeonkim.co.kr을 들어갈때 쌩으로 들어갈지 www.taeyeonkim.co.kr로 들어갈지

이러면 도메인 연결은 끝났다.

잘연결되었는지 확인하기 위해 cmd에서 nslookup 도메인명 쳐보면 나온다

## nginx 다운로드 및 설정

다운로드 받아서 C드라이브 바로 아래에 두었다

nginx.conf 파일 열어서 수정해주자

```
server{
  listen 80; // 웹서버 기본 포트는 80번 이니까 
  server_name 도메인;

  location / {
    root   C:\front\dist; //c드라이브 front폴더 dist폴더내부 내용. 리액트 빌드파일
}
```

## 아진짜 개빡친다..

이건 지금은 못쓰겠고, 오늘 딱 느낀거만 간단하게 정리

배포할때 항상 포트포워딩과 인바운드를 먼저생각하자.....

그리고 db붙을 때는 기본 게이트웨이가 아니라 밖에서 들어갈 수 있는 IP 적도록.. 공인 IP
