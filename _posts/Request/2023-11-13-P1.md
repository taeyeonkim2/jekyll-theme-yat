---
layout: post
title: 프로세스 정립
categories: request
tags: [taeyeon]
---

## 회원가입

요청 전에 로그인을 하는 걸로 하자.

그러려면 ID와 PASSWORD가 필요한데, 

1. 의료원은 정해져 있으니, 우리가 아이디 / 비밀번호를 제공한다.

-> 담당자가 DB에 담아서 그냥 알려주면 된다.

2. 의료원이 직접 회원가입을 하도록 한다.

-> 회원가입 화면에서 임시저장(임시테이블)을 한 후, 관리자에게 연락 후 담당자는 확인 후에 회원을 받아준다.

-> DB에 회원의 정보를 저장한다.

-----가입 완료-----

## 로그인 실패

1. 로그인 5회 실패시 계정이 잠긴다.

2. 5회 미만으로 로그인 성공시 로그인 카운트는 0으로 돌아간다.  

3. 잠긴 계정을 풀기위해 담당자에게 연락을 하고, 관리자는 계정 잠금을 해제한다.

## 로그인 후

로그인을 하고 나면 어떤 일들을 할 수 있을까?

1. 해당 의료원의 기존의 유지보수 내역(요청서 & 완료 보고서)을 볼 수 있다. (조회만 가능)

2. 유지보수 의뢰를 요청할 수 있다. (생성&조회 가능 / 갱신&삭제 조건부 가능)

3. 비밀번호를 변경할 수 있다.

----- -----

## 비밀번호 변경

1. 기존의 비밀번호를 입력받는다. (카운트 제한은 없다)

2. 새로운 비밀번호를 중복체크한다.

3. DB에 업데이트

----- -----

## 유지보수 의뢰 요청

1. 의료원이 양식에 맞추어 입력 후 등록 버튼을 누르면 DB에 저장된다.

2. 등록한 게시물이 첫화면의 '요청서'란에 추가되고, 처리상황은 '요청중'

3. 미확인 상태에서 의료원은 수정과 삭제가 가능하다.

4. 담당자는 요청서를 확인 후, 수용이나 반려를 선택해야한다.

5. 담당자가 요청을 수용할 경우, 처리상황은 '처리중'으로 바뀐다.

6. 처리중, 처리 완료 상태에서 의료원은 갱신과 삭제가 불가능하다.

7. 담당자가 요청을 반려할 경우, 반려 사유를 입력하고 처리상황은 '반려'로 바뀐다.

8. 반려 상태에서 의료원은 갱신과 삭제가 가능하다.

9. 의료원이 요청서를 갱신했을 경우, 처리상황은 '재요청'으로 바뀐다.

----- -----

## DSI 작업 이후

1. 담당자는 해당하는 요청서 상세페이지에 들어가 '처리 완료'버튼을 클릭한다.(처리상황 ='처리 완료')

2. 담당자는 해당하는 요청서 상세페이지에 들어가 완료보고서 작성 버튼 클릭 

3. 완료보고서 작성 후 '등록' 버튼을 클릭하면 DB에 저장되고, (처리상황='고객 미확인')

4. 의료원이 확인 후 동의 버튼을 클릭하면 DB에 저장되고 (처리상황 = ' 고객 확인 완료')

## 비고

1. 요청서와 완료보고서를 어떤 형식으로 띄워줄까

1-1. 요청서와 해당 요청서에 대한 완료보고서는 나란히 배치

1-2. 댓글 형식으로 달지(LEVEL). 동등하게 달지

2. 회원가입시 임시 저장 방법

2-1. 임시 테이블에 저장할 지. 컬럼 속성으로 회원 활성화 / 비활성화

3. 완료보고서를 의료원에서 확인했다는 걸 증명해야하는지?

3-1. 그렇다면 의료원이 완료보고서를 클릭하고, 동의하면 완료보고서의 처리상황='고객 확인 완료'

3-2. 아직 의료원이 확인하지 않았다면, 처리상황='고객 미확인'


## 혼자 시뮬레이션 (클라이언트)

이제 유지보수 의뢰 홈페이지에서 하랬지

홈페이지 들어가서 의뢰요청 클릭

회원만 된다고?? 회원가입해야지그럼.

양식은 다 맞게 입력한 것 같고, 담당자한테 전화해야겠다.

====전화 후====

아, 잘못입력했네. 다시 가입하고 전화해야겠다.

====가입 완료====

로그인 하니까 이전에 의료원 담당자들이 유지보수 요청한 것과 완료보고서가 보이네

이전 것들한번 봐봐야겠다. (조회) 지금까지는 다 처리완료네

이제 의뢰 요청을 해야지 (의뢰 요청 버튼 클릭)

다 잘 입력했으니까 등록버튼 누른다

이제 내가 요청한 요청서가 보이네 처리상황은 '요청중'으로 되어있고

====1시간 뒤====

왜 반려지? 들어가서 확인해봐야겠다.

아, 반려 사유도 다 적혀있네..수정하고 재요청 버튼 누른다( 처리상황 ='재요청')

처리상황이 '처리중'으로 바뀌었네. 담당자가 확인해서 처리중인가보다

====처리 완료====

처리상황이 '처리완료'로 떠있고, 아래에 해당 요청에 대한 완료보고서도 보이네

## 혼자 시뮬레이션(담당자)

회원가입 전화가 왔네. 정보가 잘 입력됐나 확인해보자.

오타가 있네..반려시키고 다시 가입하라고 해야겠다.

==== 요청 들어옴 ====

요청 들어왔으니까 확인하자( 처리상황 ='처리중')

계약사항에 없는 유지보수 항목이 한 개 있네. 반려해야겠다. 사유도 입력해주고. (처리상황 ='반려')

==== 재요청 들어옴====

음, 이제 우리 관할이니까 수용 누르고 처리해주자 (처리상황 = '처리중')

==== 처리완료 ====

이제 완료 보고서를 써볼까

완료보고서를 쓰려면, 요청서 페이지에 들어간다음, 하단의 완료 보고서 버튼을 누르자

이제 조치 내용, 결과를 다 적었으니까 저장하자

