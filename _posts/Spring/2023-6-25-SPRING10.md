---
layout: post
title: SPRING PRO10
categories: SPRING
tags: [taeyeon]
---

##   게시판 삭제하기 및 @PathVariable

상세페이지의 content의 줄바꿈과 indate에서 년월일만 추출하고 싶어

jstl의 function기능을 사용하자 (taglib 등록해야지)

1.우선 간단한 indate에서 추출하는 것부터 하자

```1=boardContent.jsp
<%@taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
...
<tr>
  <td>작성일</td>
  <td>${fn:split(vo.indate," ")[0]}</td>
</tr>
```

2.content의 줄바꿈
```2=boardContent.jsp
<%pageContext.setAttribute("newLineChar", "\n");%>
...
<tr>
  <td>내용</td>
  <td>${fn:replace(vo.content,newLineChar,"<br/>")}</td>
</tr>

pageContext는 현재 페이지의 객체인데, pageContext 메모리에
"newLineChar"라는 곳에 "\n"을 넣어 두겠다는 말
쉽게 생각하면, 변수에 담아 두는 것
```

3.목록 버튼을 누르면 boardList.do 요청을 보내도록 만들기

우선 링크를 걸기 쉽게 button태그에서 a태그로 바꿔주자
```3=boardContent.jsp
<tr>
  <td colspan="2" align="center">
	  <a class="btn btn-primary btn-sm">수정화면</a>
  	<a href="boardDelete.do/${vo.idx}" class="btn btn-warning btn-sm">삭제</a>
  	<a href="boardList.do" class="btn btn-info btn-sm">목록</a>
	</td>
</tr>
```
원래는 href="boardDelete.do?idx=${vo.idx}" 이런식으로 보냈지만,

이번엔 href="boardDelete.do/${vo.idx}" 이런 방식으로 보낼거야 

그러면 받을 때는 어떻게 받지??

4.boardDelete.do 요청 처리하기

```4=BoardController.java
@GetMapping("/boardDelete.do/{idx}")
	public String boardDelete(@PathVariable("idx") int idx) {
		//GetMapping으로 넘어오는 idx값을 @PathVariable의 idx로 받고 int idx에 저장 
		//이게 좋은 점은 클라이언트가 변수를 지정할 필요 없고, 서버쪽에서 변수를 지정하면 되니까 편함
    //Mapper 인터페이스와 Mapper.xml 다녀오자
    mapper.boardDelete(idx);

		return "redirect:/boardList.do"; 
	}

```






