---
layout: post
title: SPRING MVC05까지 정리-3
categories: SPRING
tags: [taeyeon]
---

1.회원가입이 끝나면 로그인이 되어있도록 세션처리를 할껀데..

```1=MemberController.java
Member mvo=memberMapper.getMember(m.getMemID());
		   session.setAttribute("mvo", mvo); // ${!empty mvo}
		   return "redirect:/";

```

getMember 메서드를 통한 MemberMapper.xml이 좀 복잡할거야

```2=MemberMapper.xml

<resultMap type="kr.board.entity.Member" id="memberMap">
		<id property="memIdx" column="memIdx"/>
		<result property="memID" column="memID"/>
		<result property="memPassword" column="memPassword" />
		<result property="memName" column="memName" />
		<result property="memAge" column="memAge" />
		<result property="memGender" column="memGender" />
		<result property="memEmail" column="memEmail" />
		<result property="memProfile" column="memProfile" />
		<collection property="authList" resultMap="authMap">
    //Member테이블에는 authList가 없어. 그래서 우린 auth테이블에서 끌고 와야돼.
    //아래의 id="authMap"에서 묶은 정보를 resultMap="authMap"으로 끌고 오면되지
     
		</collection>
	</resultMap>
	
	<resultMap type="kr.board.entity.AuthVO" id="authMap">
		<id property="no" column="no" />
		<result property="memID" column="memID" />
		<result property="auth" column="auth" />
	</resultMap>
...
<select id="getMember" resultMap="memberMap">
    //위에서 묶은 memeberMap을 반환하겠다고!
		select * from mem_stbl mem LEFT OUTER JOIN mem_auth auth on
		mem.memID=auth.memID where mem.memID=#{memID}
	</select>
```

session이 걸려있는 곳 : header.jsp,main.jsp
