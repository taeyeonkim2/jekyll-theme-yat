---
layout: post
title: SPRING PRO11
categories: SPRING
tags: [taeyeon]
---


## Spring MVC02 버전 만들기(Ajax, jQuery)

사전 확인

-MVC01을 복사해서 MVC02로 만들자 -> Maven Update force

-MVC02 톰캣에 등록 -> 확인해보니 Path는 이전에 수정하기전인 /controller네

MVC02에서는 기존의 View4개를 지우고 1개로 만들거고

BoardController도 새로만들거니까 메서드는 다 지우자

1.template.jsp 이름 변경 -> main.jsp

```1=BoardController.java
  @RequestMapping("/")
  public String main(){
      return "main";
  }
```

2.지금까지 POJO의 메서드들은 DispatcherServlet에게 String을 반환했어

근데, 이제는 VO, DTO도 리턴하려고..jsp로 포워딩하는 것도아니고, redirect도 아닌데??

스프링에서는 DispatcherServlet에 객체를 리턴한다는 말은 

json 데이터 형식으로 변환해서 리턴한다는 말이야 (@ResponseBody)

```2=BoardController.java
@RequestMapping("/boardList.do")
public @ResponseBody List<Board> boardList(){
    List<Board> list=boardMapper.getLists();
    return list;
}
```

이렇게 json으로 변환하기 위해서 API가 필요하겠지?? 

jackson-databind API야. pom.xml에 dependecny 추가하자

```3=pom.xml
<dependency>
  <groupId>com.fasterxml.jackson.core</groupId>
  <artifactId>jackson-databind</artifactId>
  <version>2.9.8</version>
</dependency>
```

jackson-databind API가 로딩되어있고, @ResponseBody 어노테이션이 걸려있다면,

자동으로 객체를 JSON 데이터 포맷으로 변환시켜준다.

이렇게 list를 JSON 데이터 포맷으로 리턴을 하면, 화면에는 데이터만 띡하고 뜨는거야

List<BoardVO> list라는 일종의 배열을 JSON포맷으로 보내주는 거지

JSON, JavaScriptObjectNotation 말 그대로

객체를 표현하는 표기법이야.


## jQuery($.ajax())를 이용한 서버 통신하기

왜 띡하고 데이터만 보내는 걸까??

우리는 웹뿐만 아니라 엄청나게 다양한 디바이스 표현해야해

그러려면 각각의 클라이언트 환경에 맞는 UI를 다 개발해야하는데,

그것보단 그냥 데이터만 보내고 각 클라이언트가 자신의 환경에 맞게 뷰를 만드는게 낫겠지  



















