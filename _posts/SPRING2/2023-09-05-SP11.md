---
layout: post
title: SPRING 11
categories: SPRING2
tags: [taeyeon]
---

## jQuery로 코드를 간결하게 만들어 보기!!(복습)

get.jsp에 답글, 수정, 목록 버튼이 있는데 a태그가 너무 길어서 줄이고 싶어

1. onclick을 싹 다 날리자

2. button 태그 안에 data-btn="reply", data-btn="modify", data-btn="list"를 넣어주자

3. 테이블 밖에 form 태그를 하나 만들어 주고, hidden으로 idx를 보내줄 거야 (get방식)

- reply와 modify 모두 get방식으로 idx를 보내야하니까

```1=get.jsp
$(document).ready(function(){
    	$("button").on("click", function(e){
    		var formData=$("#frm");
    		var btn=$(this).data("btn"); // data-btn="list"
    		if(btn=='reply'){
    			formData.attr("action", "${cpath}/board/reply");
    		}else if(btn=='modify'){
    			formData.attr("action", "${cpath}/board/modify");
    		}else if(btn=='list'){
    			formData.find("#idx").remove();
    			formData.attr("action", "${cpath}/board/list");
    		}
    		formData.submit();    		
    	});    	
    });

...
          <tr>
           <td colspan="2" style="text-align: center;">
              <c:if test="${!empty mvo}">
                <button data-btn="reply" class="btn btn-sm btn-primary">답글</button>
                //원래 onclick="${cpath}/board/reply?idx=${vo.idx}"
                <button data-btn="modify" class="btn btn-sm btn-success">수정</button>
                //원래 onclick="${cpath}/board/modify?idx=${vo.idx}"
              </c:if>
              <c:if test="${empty mvo}">
                <button disabled="disabled" class="btn btn-sm btn-primary">답글</button>
                <button disabled="disabled" class="btn btn-sm btn-success" onclick="location.href='${cpath}/board/modify?idx=${vo.idx}'">수정</button> 
              </c:if>
              <button data-btn="list" class="btn btn-sm btn-info">목록</button>
              //원래 onclick="${cpath}/board/list"
           </td>
         </tr>
      </table>
      <form id="frm" method="get">
          <input type="hidden" id="idx" name="idx" value="<c:out value='${vo.idx}'/>"/> 
      </form>

```
