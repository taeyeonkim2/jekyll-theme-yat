---
layout: post
title: SPRING 13
categories: SPRING2
tags: [taeyeon]
---

## 수정과 삭제후 페이지 번호 유지하기

지금은 목록을 눌렀을 때 돌아가는 것만 했는데, modify.jsp에서 돌아갈 때도 페이지를 유지하고 싶어

그러면 modify.jsp에도 page, perPageNum도 넘겨줘야겠지?

컨트롤러의 modify에서 @ModelAttribute로 cri를 바인딩해주자

지금 modify.jsp는 onclick으로 걸려있는데 이전의 get.jsp처럼 만들어 보자!

- 기존의 폼은 지우고 하단에 폼을 만들어주자 id="frm" method="post" 

- 수정 버튼의 submit도 button으로 바꿔줘야 겠지? 그리고 onclick을 다 날려주자

- onclick을 지운 버튼에 data-btn="modify" 이런 식으로 바꿔주자

```1=modify.jsp
$(document).ready(function(){
  		$("button").on("click",function(e){
  			var formData=$("#frm");
  			var btn=$(this).data("btn");
  			if(btn=='modify'){
  				formData.attr("action","${cpath}/board/modify");
  			}else if(btn=='remove'){
  				formData.attr("action","${cpath}/board/remove");
  				fromData.attr("method","get");
  			}else if(btn=='list'){
  				formData.find("#idx").remove();
  				formData.attr("action","${cpath}/board/list");
  			}
  			formData.submit();
  		})
  	});
```







