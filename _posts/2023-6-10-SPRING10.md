---
layout: post
title: SPRING MVC02 - 1
categories: example
tags: [plantuml]
---


## MVC 와 Ajax 통신하기

1.memberList.jsp 하단에 Ajax로 회원리스트보기 버튼 생성

```1=java
    <tr>
		<td colspan="8">
			<input type="button" value="Ajax로 회원리스트 보기" onclick="btnClick()"/>
		</td>
	</tr>
```

2.버튼 클릭시 btnClick() 메서드 호출
```1=java
    function btnClick(){
		$.ajax({
			url : "<c:url value='/memberAjaxList.do'/>", 
			type : "get",
			dataType : "json", //json으로 받을거야
			success : resultHtml, //성공시 resultHtml로 data를 보내줘
			error : function(){ alert("error"); }
		});
	}
```

3. /memberAjaxList.do 요청시 실행될 메서드 
```1=java
@RequestMapping("/memberAjaxList.do") //memberAjaxList.do요청을 내가 받을게
	public @ResponseBody List<MemberVO> memberAjaxList() { //json으로 바꿔서 보내줄게
		List<MemberVO> list=memberMapper.memberList(); //어차피 list뽑아올거라 상관 없음
    //그러니까 굳이 memberMapper에 추상메서드 만들 필요가 없지
		//$.ajax에 응답해야돼 "json"으로
		
		return list;
	}
```


